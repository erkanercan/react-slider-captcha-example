/* eslint-disable react-hooks/rules-of-hooks */
import { createCaptcha } from "@slider-captcha-v2/core/lib/esm";

export let solution: number;

const img = Buffer.from(
  "iVBORw0KGgoAAAANSUhEUgAAAPoAAACWCAIAAAB4uAJLAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDcuMS1jMDAwIDc5LjljY2M0ZGU5MywgMjAyMi8wMy8xNC0xNDowNzoyMiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIDIzLjMgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjA1MEM1MERGRDg4RDExRUM5RTAzQjc5ODZEMThFMTg4IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjA1MEM1MEUwRDg4RDExRUM5RTAzQjc5ODZEMThFMTg4Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MDUwQzUwREREODhEMTFFQzlFMDNCNzk4NkQxOEUxODgiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6MDUwQzUwREVEODhEMTFFQzlFMDNCNzk4NkQxOEUxODgiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7ZE896AAANLElEQVR42uybdWwV3RbFkeJQNHigFLcETwnuoRAgaIIHDRokeNEixZ3g5AshSHGKJOgLBCju7k5xd3jrdZOd82bmTm/hg3DL+v1BpnPP3Htkzd5rnxnixSOEEEIIIYQQQgghhBBCCCGEEEIIIYQQQgghhBBCCCGEEEIIIYQQQgghhBBCCCGEEEIIIYQQQgghhBBCCCGEEEIIIYQQQgghhBBCCCGEEEIIIYQQQgghhBBCCCGEEEIIIYQQQgghhBBCCCGEEEIIIYQQ4qucPXv2WzTp06ePS+OqUKHC/WjKly/PVSbfuXnzpsg9a9ascWlcERERMq7169fHmUEloF49MT2asLCwv3P4R44ckYNjx465NKtZs+Z/ounevfufPyi/3/x7GTNmLFSoUOrUqd++fXvx4sVbt27F6vLAwMC8efMmTZr06dOnZ86cefbs2a/ras+ePfHvixcvBg4c+BfKfcSIEaJ4hHmXZshpFStWxMGJEycYIr+TMmXK0NDQq1evfvt/oqKiZs2alTNnTvfL8+XLt2DBAkjccvmFCxcGDx6cJEmSX9Fn+Ynnz5//nWbGS9q2bSvDRyb883sb/zf8RufOnSdMmODv7y8aunfv3uPHjxHgs2fP7uf3v/Ty6dOnSZMmDRkyBJ9azVaCBNOmTevWrRsOpOXt27dfv36NLJE5c2Zp8+TJkx49eixfvtz7LuXOnbtMmTJp06Z99OhRZGSkY5KRziALNW/e3Dy/devWjx8/mnLPkSMHDrJly4ahIf9UqVIFx69evTp+/DiyvH1QFtCN6tWrYzYwukuXLu3cufPLly/uKS44ODhRokQubdBJxAJPn9aoUQO/iAnEQM6dOwd3fv36dXuIqVOnDg527Nhx+vRpF7kvWbIEB3v37l23bp2eR1ZcvHix/pk4cWLIAMuNqV6zZo2zFuPHb9OmDQ7QGcybT979CxculLsfob1Tp06pUqXSj7BgjRs3Pnz4sDTYvn17woQJzWvR+ODBg/Ipxl+/fn2zARQPld+9e1cajB071pv+wGsePXrUkiVwplq1ao7R3U6RIkUco3vLli337dtnaYzbqV+/fp46ExAQgLX/+vWrecnLly8RKaEPx0sqV66MO/CbK5s2bYJ0HC+H8cBtYL8Etwc6Y7YcOXKkfNS7d29vorsFTIvld3UdPX0VsrS0MW8bX2Ly5MkygDFjxugCIBaWLVsWwUObtW/f/sOHD2h24MABXWZoHe4cJxHLmzZtqgEAFwYFBalzQNSfPXu2/AqMjZf9cQQL/DNydwG3gd1xIUJjaJ4uuXbtmt3j/aTWER2QNzxdiHRUqVKlf0vu6P/fJXdkTOm91uyYOFgRnREUmjA5om9dyEOHDsmZevXqYW2QE0uVKoU/U6RIgZgHJ62XX7lyBelC6yqcQfuSJUt66g9uBr328uXLEydORH/mzp2LhK7ncePZ5R4eHv6PgZooR7lDwWiD6hZDgwfQ87t37zavatSokf4uDlavXj1gwIChQ4eePHnSHKAnrcM1jR49emQ0mt/ctT5o0CAz54wbNw59aNGiBXorsUZWJFOmTD8md/R8pIHFAcZ9uZ8/fx5dF0sNE7Jr1y4ZjPhvXeyLFy/C6ToqvlmzZqL1AgUKqKqgpzt37nz+/FmnRhZ427ZtEkcdO5MrVy78rj0JmCKA3YJB+r5j5efnZakK6eg3YIymW5O6RQMqlCEnITI9iQymLkITmmDugZpah7XVwA/Rx1bre/bsSZ48ucWm6/QuXbpUTqJk8kbu+s24bVyaIT/HZbmXKFEC/X7//r1Ei2XLlsmfffr0kfIUC7NixQrL8LCoSKmm4kHBggVR2uIkVN6gQQOdmmHDhonoZ8yYgTP58+cXE2wxG8KsWbPkt+BnHEWAUKpaB9o3d7kjhJsZw1J7CCEhIdLg1KlTFq3jyzNkyOCo9fHjxztq3bwnu3btGlutR0VFJUuWzN6maNGiMnsIQ5hblIzaSRe5Ixgh/cYod9ycmoLiptz79u2Lfm/YsEGlD2rVqqUNdNVNZWMhEbpwEvrOkyePqXVzmc0vwUcQvUS7vXv32i24ADXLWmpgM0UAnZlRGRlJP3KROxRp2pgOHTo4NsM9gOpT2vTv3990z3rv/YDWs2TJ8u7du1hpHcDDeBqObCLJqpmXeJK7qXUXuZtaj7NyhydGvxF+cDxp0iQcb968WT9t166do9ZlYx76hspNrUMK6dKlc/wh2brBouJ4+PDhsvb2ZhK6dEPNS627yN2idWAW3xbgHxzrOdQnP6Z1EBoaKucjIyO91DrQot/OnDlzHDvpKPegoCBT657kbtG6u9xRnvmq3NeuXYt+BwcHyx4wjnv16iUfdenSRas3zf6qdWRbu9YththEVl3mWsom3EL2ZmJ7xE6YIjh8+LB+OUSzcuVKy2I7yh32yS4Ll8dMlnip1K1b16J1ODRvtK6zCtTgxah1UL9+fU+d1No0Rrk7bhDZ5Y4VNAsb4dy5c546ADv6q+X+a9+ZMZ+wiGWH1hFFJOBVr15dnqdgIQ8cOBAYGHjv3r3SpUujxsVMwZmkT5/+7NmzZcuWhaGPYRgJEphPK+wNbty4gX8LFy48depU3aGH1suVKydfjqs2btyowW/ixIkuiatHjx5yHBERcf/+/VjNyf79++fPny/HrVu3xsDRK907GjVqlEpqy5Yt4rOvXbuGSUAgML9HXZnjMzJoXYeJTqKOj1UnsRAIWJ42/rVjaObJHckKSmUCL1e1alVEHNl10HLFgul1fdLMQNy6241o5BjXke9kdxJZTyw4ak1LXMdEeArwYmZks8XFzGipqpg+ClrHVRY7Icdv3ryxj0uQTSdvXiLQ6I70goFXqFDBHkTFj3kT1wWp/sHQoUMtH+GMpYTVDngT3VHnoDBAnpE/hwwZ4qljGLKUT+aWjpmZgW4lazoKDw+3/7q/v//Dhw/jVKnqqHXxdqp1LYCOHTsmEkfERRJAyLevevPmzaVUzZUrl3upitRh7q+bfciUKZNWaSAkJETO37lzR84UKlTIrnWozbLv7o3cEc41sZhzYu6Nok2MWpede2mDgrVmzZp6fsqUKfbtmljJvU+fProNADCr0gDZ2N4x3AB6k8iUarSSMkxzV/ny5bVjK1asMONXsWLFzGe9PrwRKZOinvjBgwdp0qSRgNqsWTMkaEetO25EImvD7MpJfIoYJlvpM2fOlM1jKX+LFi0a42Omp0+fIhohEWNmdX/DEmLXrFkjJxF1pk2bZr4gAN3bHzN5I3dVG24h85EqHC1kioGYPt5F6wIigjaGKVq1apX5FM/cromV3MWsZ86cWR9uINYgNuufZsdgI/XVvevXr+NHdT51y0GZPn26dg/agKFFhjxy5Igl0fnwYyaJgrjvdXcCURarApOgj5nkFSvECdmwU60jrktkheGD1vWVEhzr1GMhzcdMWHWXLsGRe3qEjltFrJf58MXxib3cXT8pd1CpUqVnz5556s/x48dj/O9R2bNn12mxAMNg1jA/IHcQFhZm/2b7LlmrVq3szRDXLFq3K96C+ejQ9+QOwy2979atmzocc1sqVi8RpEyZEv5bN7AllnTu3Fm+WYwm2ktjF5D3zaCoDxodc0KZMmVkw15ADyXR/ytyByjalixZgjhneatswIABnvYWLaBgnTdvnsYOeTdLp+Un5R4v+r2PJ0+e6Jcj41meyOpDU5St2gyhx/KqhQnKbjNXiL9fsGBB48aNvXlA++eiPjI0NFRPBgQElCtXztylbteunSy56WF0hw4Sb9iwodaUiPSYL3nvQJKpBgx70eYJeH2sEMI5vjnG99QrVqzYtWvXJk2aOK40BlIkGheBorfSxvE9Rz8/P9ji9u3boxRxeefHBSRP3OcIGblz53bvgOyPOZI2bVppY9kVwLhKly5du3ZtfZ3GE8WLF8dceRK6mDdYHayg2NGgoCB8LYy7TJ2+EOFYffkGixcvVsPXsWNHBGn9KFGiRFBbZGSkNNi5c6dFDZh33AAagIODg80NRywPVKhu1Xw6Q/5A9PndiRMn7HcdblfNcuaLmb4HgqiakK9fv8JuwpjCJOg7WzhA1egYHaFveBh9IxwzcunSJbgRqFxPolRq0aIF9fSHg8yjm2PI2/ofDJCaYHflXSl5s9Lnh+rv749UZX81PCoqavbs2TH+5738+fMvWrTIXthduHAhJCTE8Z0n8gcC12r5jywIWxr1ZDMnMDDw13Ug/m8eMPwf3CEsDW50iNX+f8bcyZMnD7wyXBBm6tSpU6iiqCHfAiXQ/PnzZTPaAha0UaNGlrf8CfFtUJKNGjUKpkXs6Nu3b3fv3t22bVsvN6MIIYQQQgghhBBCCCGEEEIIIYQQQgghhBBCCCGEEEIIIYQQQgghhBBCCCGEEEIIIYQQQgghhBBCCCGEEEIIIYQQQgghhBBCCCGEEEIIIYQQQgghhBBCCCGEEEIIIYQQQgghhBBCCCGEEEIIIYQQQgghxDf5rwADAOcSdszoiHvHAAAAAElFTkSuQmCC",
  "base64"
);

export default async function handler(req: any, res: any) {
  createCaptcha({
    image: img,
  })
    .then((resp: any) => {
      solution = resp.solution;
      res.status(200).send(resp.data);
    })
    .catch((err: any) => {
      res.status(500).send(err);
    });
}
